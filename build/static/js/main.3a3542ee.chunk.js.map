{"version":3,"sources":["client/ImagesFinder/components/ImageGalleryItem/ImageGalleryItem.module.css","client/ImagesFinder/components/Modal/Modal.module.css","client/ImagesFinder/components/ImageGallery/ImageGallery.module.css","client/ImagesFinder/components/Button/Button.module.css","client/ImagesFinder/components/Loader/Loader.module.css","client/ImagesFinder/components/ErrorMessage/ErrorMessage.module.css","App.module.css","client/ImagesFinder/components/ImageGalleryItem/ImageGalleryItem.jsx","client/ImagesFinder/components/ImageGallery/ImageGallery.jsx","client/ImagesFinder/components/Searchbar/Searchbar.jsx","client/ImagesFinder/components/Button/Button.jsx","services/api-service.js","client/ImagesFinder/components/Loader/Loader.jsx","client/ImagesFinder/components/ErrorMessage/ErrorMessage.jsx","client/ImagesFinder/initialState.js","client/ImagesFinder/components/Modal/Modal.jsx","client/ImagesFinder/ImagesFinder.jsx","App.js","index.js","client/ImagesFinder/components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","className","styles","imageGalleryItem","src","alt","imageGalleryItemImage","data-source","defaultProps","ImageGallery","images","imagesElement","map","id","image","imageGallery","Searchbar","state","query","handleChange","e","preventDefault","setState","target","value","handleSubmit","props","onSubmit","this","searchbar","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","placeholder","Component","Button","children","button","axios","defaults","baseURL","searchQuery","page","get","then","response","data","hits","LoaderComponent","wrapper","color","height","width","timeout","ErrorMessage","text","error","initialState","loading","showModal","activeImg","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","modal","ImagesFinder","listRef","createRef","onChangeQuery","fetchImages","apiService","length","prevState","catch","finally","toggleModal","prevProps","current","scrollHeight","snapshot","scrollTo","top","behavior","ref","Loader","App","app","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,QAAU,0B,mBCA5BD,EAAOC,QAAU,CAAC,MAAQ,8B,mBCA1BD,EAAOC,QAAU,CAAC,IAAM,mB,oLCKxB,SAASC,EAAT,GAAuE,IAA5CC,EAA2C,EAA3CA,aAAaC,EAA8B,EAA9BA,cAAcC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,QACxD,OACI,oBAAIC,UAAWC,IAAOC,iBAAtB,SACI,qBAAKC,IAAKP,EACNQ,IAAKN,EACLE,UAAWC,IAAOI,sBAClBC,cAAaT,EACbE,QAAS,kBAAMA,EAAQF,QAKxBF,QAEfA,EAAiBY,aAAe,CAC5BT,KAAM,I,qBCbV,SAASU,EAAT,GAA2C,IAAnBC,EAAkB,EAAlBA,OAAQV,EAAU,EAAVA,QACtBW,EAAgBD,EAAOE,KAAI,gBAAEC,EAAF,EAAEA,GAAOC,EAAT,6BAC7B,cAAC,EAAD,2BAA+BA,GAA/B,IAAsCd,QAASA,IAAxBa,MAC3B,OACI,oBAAIZ,UAAWC,IAAOa,aAAtB,SACKJ,IAKEF,QAEfA,EAAaD,aAAe,CACxBE,OAAQ,I,oBCwBGM,E,4MAxCXC,MAAQ,CACJC,MAAO,I,EAIXC,aAAe,SAACC,GACZA,EAAEC,iBACF,EAAKC,SAAS,CAACJ,MAAOE,EAAEG,OAAOC,S,EAGnCC,aAAe,SAACL,GACZA,EAAEC,iBACF,EAAKK,MAAMC,SAAS,EAAKV,MAAMC,OAC/B,EAAKI,SAAS,CAACJ,MAAO,M,4CAI1B,WACI,IAAQA,EAAOU,KAAKX,MAAZC,MACAO,EAA4BG,KAA5BH,aAAcN,EAAcS,KAAdT,aACtB,OACI,wBAAQlB,UAAWC,IAAO2B,UAA1B,SACI,uBAAM5B,UAAWC,IAAO4B,WAAYH,SAAUF,EAA9C,UACI,wBAAQM,KAAK,SAAS9B,UAAWC,IAAO8B,iBAAxC,SACI,sBAAM/B,UAAWC,IAAO+B,sBAAxB,sBAEJ,uBACIhC,UAAWC,IAAOgC,gBAClBH,KAAK,OACLP,MAAON,EACPiB,SAAUhB,EACViB,YAAY,sC,GAhCZC,a,iBCMTC,MAJf,YAAwC,IAAtBtC,EAAqB,EAArBA,QAASuC,EAAY,EAAZA,SACvB,OAAO,wBAAQvC,QAASA,EAASC,UAAWC,IAAOsC,OAA5C,SAAqDD,K,iBCLhEE,IAAMC,SAASC,QAAU,sBAEzB,IASe,EATK,SAAC,GAAoC,IAAD,IAAjCC,mBAAiC,MAAnB,GAAmB,MAAfC,YAAe,MAAR,EAAQ,EACtD,OAAOJ,IACJK,IADI,kBAEQF,EAFR,iBAE4BC,EAF5B,gGAIJE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,S,0CCSrBC,MAdf,WACE,OACE,qBAAKlD,UAAWC,IAAOkD,QAAvB,SACE,cAAC,IAAD,CACErB,KAAK,YACLsB,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,S,iBCDFC,MALf,YAA+B,IAARC,EAAO,EAAPA,KACnB,OAAO,mBAAGzD,UAAWC,IAAOyD,MAArB,SAA6BD,KCP3BE,EAAe,CAC1BV,KAAM,GACNN,YAAa,GACbC,KAAM,EACNgB,SAAS,EACTF,MAAO,KACPG,WAAW,EACXC,UAAW,I,iBCDPC,EAAWC,SAASC,cAAc,eAmCzBC,E,4MAxBXC,cAAgB,SAAAhD,GACG,WAAXA,EAAEiD,MACF,EAAK3C,MAAM4C,W,EAKnBC,oBAAsB,SAAAnD,GAClBA,EAAEoD,gBAAkBpD,EAAEG,QACxB,EAAKG,MAAM4C,W,uDAjBb,WACIG,OAAOC,iBAAiB,UAAU9C,KAAKwC,iB,kCAG3C,WACKK,OAAOE,oBAAoB,UAAW/C,KAAKwC,iB,oBAgBhD,WACI,IAAQG,EAAuB3C,KAAvB2C,oBACR,OAAOK,uBACH,qBAAK3E,UAAWC,IAAO2E,QAAS7E,QAASuE,EAAzC,SACI,qBAAKtE,UAAYC,IAAO4E,MAAxB,SAAiClD,KAAKF,MAAMa,aAEhDyB,O,GA5BQ3B,aCwGL0C,E,4MArGb9D,M,eAAa2C,G,EAEboB,QAAUC,sB,EAgCVC,cAAgB,SAAAhE,GACd,EAAKI,SAAS,CAAEsB,YAAa1B,EAAO2B,KAAM,EAAGK,KAAM,GAAIS,MAAO,KAAME,SAAQ,K,EAG9EsB,YAAc,WACZ,MAA8B,EAAKlE,MAA3B4B,EAAR,EAAQA,KAAMD,EAAd,EAAcA,YAMdwC,EALgB,CACdxC,cACAC,SAKCE,MAAK,SAAAG,GACCA,EAAKmC,QACR,EAAK/D,SAAS,CACZqC,MAAM,uCAAD,OAAyCf,EAAzC,OAGT,EAAKtB,UAAS,SAAAgE,GAAS,MAAK,CAC1BpC,KAAK,GAAD,mBAAMoC,EAAUpC,MAAhB,YAAyBA,IAC7BL,KAAMyC,EAAUzC,KAAO,EACvBgB,SAAS,SAGZ0B,OAAM,SAAA5B,GAAK,OACV,EAAKrC,SAAS,CAAEqC,MAAM,wCAEvB6B,SAAQ,kBAAM,EAAKlE,SAAS,CAAEuC,SAAS,Q,EAK5C4B,YAAc,SAACrF,GACb,EAAKkB,UAAS,kBAAmB,CAC/BwC,WADY,EAAGA,UAEfC,UAAW3D,O,uDAlEf,WACE,IAAOyD,EAAUjC,KAAKX,MAAf4C,QACPjC,KAAKN,SAAS,CAAEuC,SAAS,IACrBA,GACFjC,KAAKuD,gB,qCAIT,SAAwBO,EAAWJ,GACjC,OAAIA,EAAUpC,KAAKmC,OAASzD,KAAKX,MAAMiC,KAAKmC,OACtBzD,KAAKoD,QAAjBW,QACOC,aAEV,O,gCAGT,SAAmBF,EAAWJ,EAAWO,GACnBjE,KAAKX,MAAjB4C,SAGNjC,KAAKuD,cAEU,OAAbU,GACFpB,OAAOqB,SAAS,CACdC,IAAKF,EACLG,SAAU,a,oBA8ChB,WACE,MAAuDpE,KAAKX,MAApDiC,EAAR,EAAQA,KAAMW,EAAd,EAAcA,QAASF,EAAvB,EAAuBA,MAAOG,EAA9B,EAA8BA,UAAWC,EAAzC,EAAyCA,UAEjCmB,EAAqDtD,KAArDsD,cAAeC,EAAsCvD,KAAtCuD,YAAcH,EAAwBpD,KAAxBoD,QAASS,EAAe7D,KAAf6D,YAC9C,OACE,qCACG3B,GAAa,cAAC,EAAD,CAAOQ,QAASmB,EAAhB,SACZ,qBAAKrF,IAAK2D,EAAW1D,IAAI,OAG3B,cAAC,EAAD,CAAWsB,SAAUuD,IAEpBvB,GAAS,cAAC,EAAD,CAAcD,KAAMC,IAE9B,qBAAKsC,IAAKjB,EAAV,SACE,cAAC,EAAD,CAActE,OAAQwC,EAAMlD,QAASyF,MAGtC5B,GAAW,cAACqC,EAAD,IAEXhD,EAAKmC,OAAS,IAAMxB,GAAW,cAAC,EAAD,CAAQ7D,QAASmF,EAAjB,8B,GAhGb9C,a,iBCEZ8D,MARf,WACE,OACE,qBAAKlG,UAAWC,IAAOkG,IAAvB,SACE,cAAC,EAAD,OCFNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtC,SAASuC,eAAe,U,kBCR1B9G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.3a3542ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__IWGhM\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__3FP1h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1EBYW\",\"modal\":\"Modal_modal__3OkE1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__31quU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1Y1WX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loader_wrapper__21e7K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ErrorMessage_error__1WEbR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\"};","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport styles from './ImageGalleryItem.module.css'\n\nfunction ImageGalleryItem({webformatURL,largeImageURL,tags, onClick}) {\n    return (\n        <li className={styles.imageGalleryItem}>\n            <img src={webformatURL}\n                alt={tags}\n                className={styles.imageGalleryItemImage}\n                data-source={largeImageURL}\n                onClick={() => onClick(largeImageURL)}\n            />\n        </li>)\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.defaultProps = {\n    tags: '',\n}\n\nImageGalleryItem.propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string\n}\n\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\n\n\nimport styles from './ImageGallery.module.css'\n\nfunction ImageGallery({ images, onClick}) {\n    const imagesElement = images.map(({id, ...image}) => (\n        <ImageGalleryItem key={id} {...image} onClick={onClick }/>))\n    return (\n        <ul className={styles.imageGallery}>\n            {imagesElement}\n        </ul>\n    )\n};\n\nexport default ImageGallery;\n\nImageGallery.defaultProps = {\n    images: [],\n}\n\n\nImageGallery.propTypes = {\n    images: PropTypes.array,\n  }\n","import { Component } from 'react';\n\nimport styles from './Searchbar.module.css'\n\nclass Searchbar extends Component {\n    state = {\n        query: \"\",\n\n    }\n\n    handleChange = (e) => {\n        e.preventDefault()\n        this.setState({query: e.target.value})\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault()\n        this.props.onSubmit(this.state.query)\n        this.setState({query: \"\"})\n    \n    }\n\n    render() {\n        const { query}=this.state\n        const { handleSubmit, handleChange}=this\n        return (\n            <header className={styles.searchbar}>\n                <form className={styles.searchForm} onSubmit={handleSubmit}>\n                    <button type=\"submit\" className={styles.searchFormButton}>\n                        <span className={styles.searchFormButtonLabel}>Search</span>\n                    </button>\n                    <input\n                        className={styles.searchFormInput}\n                        type=\"text\"\n                        value={query}\n                        onChange={handleChange}\n                        placeholder=\"Search images and photos\"\n                    />\n                </form>\n            </header>\n        )\n            \n    }\n};\n\nexport default Searchbar;\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport styles from './Button.module.css'\n\nfunction Button({ onClick, children }) {\n    return <button onClick={onClick} className={styles.button}>{children}</button>\n};\n\nexport default Button;\n\nButton.propTypes = {\n    onClick: PropTypes.func.isRequired,\n}\n\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com';\n\nconst fetchImages = ({ searchQuery = '', page = 1 }) => {\n  return axios\n    .get(\n      `/api/?q=${searchQuery}&page=${page}&key=20930495-600a23973a3be0872b747cdc1&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { fetchImages };\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport styles from './Loader.module.css';\n\nfunction LoaderComponent() {\n  return (\n    <div className={styles.wrapper}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#3f51b5\"\n        height={80}\n        width={80}\n        timeout={3000}\n      />\n    </div>\n  );\n}\n\nexport default LoaderComponent;","import React from 'react';\n\nimport styles from './ErrorMessage.module.css'\n\nimport PropTypes from 'prop-types';\n\nfunction ErrorMessage({text}) {\n    return <p className={styles.error}>{text}</p>\n        \n};\n\nexport default ErrorMessage;\n\nErrorMessage.propTypes ={\n    text: PropTypes.string.isRequired\n}\n\n","export const initialState = {\n  hits: [],\n  searchQuery: '',\n  page: 1,\n  loading: false,\n  error: null,\n  showModal: false,\n  activeImg: '',\n};\n","\nimport React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport styles from './Modal.module.css'\n\nconst modalRoot= document.querySelector('#modal-root')\n\nclass Modal extends Component {\n    componentDidMount() {\n        window.addEventListener('keydown',this.handleKeyDown)\n    }\n\n    componentWillUnmount() {\n         window.removeEventListener('keydown', this.handleKeyDown)\n    }\n\n    handleKeyDown = e => {\n        if (e.code === \"Escape\") {\n            this.props.onClose()\n        }\n\n    }\n    \n    handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n    render() {\n        const { handleBackdropClick} = this\n        return createPortal(\n            <div className={styles.overlay} onClick={handleBackdropClick}>\n                <div className={ styles.modal}>{ this.props.children}</div>\n            </div>,\n            modalRoot\n        )\n    }\n }\n\nexport default Modal;\n","import { Component,  createRef} from 'react';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\nimport Button from './components/Button';\nimport apiService from '../../services/api-service';\nimport Loader from './components/Loader';\nimport ErrorMessage from './components/ErrorMessage';\nimport { initialState } from './initialState'\nimport Modal from './components/Modal';\n\nclass ImagesFinder extends Component {\n  state = { ...initialState };\n  \n  listRef = createRef();\n\n  componentDidMount() {\n    const {loading }=this.state\n    this.setState({ loading: true })\n    if (loading) {\n      this.fetchImages();\n    } \n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (prevState.hits.length < this.state.hits.length) {\n      const { current } = this.listRef;\n      return current.scrollHeight\n    }\n    return null\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { loading } = this.state\n  \n    if (loading) {\n      this.fetchImages();\n    }\n    if (snapshot !== null) {\n      window.scrollTo({\n        top: snapshot,\n        behavior: 'smooth',\n      });\n    }      \n  }\n\n  onChangeQuery = query => {\n    this.setState({ searchQuery: query, page: 1, hits: [], error: null, loading:true });\n  };\n\n  fetchImages = () => {\n    const { page, searchQuery } = this.state;\n    const options = {\n      searchQuery,\n      page,\n    };\n\n    apiService\n      .fetchImages(options)\n      .then(hits => {\n        if (!hits.length) {\n          this.setState({\n            error: `No matches found for your request - ${searchQuery}!`,\n          });\n        }\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          page: prevState.page + 1,\n          loading: false\n        }));\n      })\n      .catch(error =>\n        this.setState({ error: `Something went wrong. Try again!` }),\n      )\n      .finally(() => this.setState({ loading: false }));\n    \n  \n  };\n\n  toggleModal = (src) => {\n    this.setState(({ showModal}) => ({\n      showModal: !showModal,\n      activeImg: src\n\n    }));\n  };\n  \n  render() {\n    const { hits, loading, error, showModal, activeImg } = this.state;\n\n    const { onChangeQuery, fetchImages , listRef, toggleModal} = this;\n    return (\n      <>\n        {showModal && <Modal onClose={toggleModal}>\n          <img src={activeImg} alt=\"\"/>\n        </Modal>}\n\n        <Searchbar onSubmit={onChangeQuery} />\n\n        {error && <ErrorMessage text={error} />}\n        \n        <div ref={listRef}>\n          <ImageGallery images={hits} onClick={toggleModal}/>\n        </div>\n        \n        {loading && <Loader />}\n\n        {hits.length > 0 && !loading && <Button onClick={fetchImages}>Load more</Button>}\n      </>\n    );\n  }\n}\n\nexport default ImagesFinder;","import ImagesFinder from './client/ImagesFinder/ImagesFinder';\n\nimport styles from './App.module.css';\n\nfunction App() {\n  return (\n    <div className={styles.app}>\n      <ImagesFinder />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1VDBy\",\"searchForm\":\"Searchbar_searchForm__1bw2f\",\"searchFormButton\":\"Searchbar_searchFormButton__2tXNF\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__2FRyr\",\"searchFormInput\":\"Searchbar_searchFormInput__Khc6Q\"};"],"sourceRoot":""}